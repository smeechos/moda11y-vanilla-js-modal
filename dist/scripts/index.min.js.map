{"version":3,"file":"index.min.js","mappings":"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","sources":["webpack://@smeechos/moda11y-vanilla-js-modal/./index.js","webpack://@smeechos/moda11y-vanilla-js-modal/webpack/bootstrap","webpack://@smeechos/moda11y-vanilla-js-modal/webpack/before-startup","webpack://@smeechos/moda11y-vanilla-js-modal/webpack/startup","webpack://@smeechos/moda11y-vanilla-js-modal/webpack/after-startup"],"sourcesContent":["/**\n * Main class for the library.\n *\n * @type {Moda11y}\n * @package moda11y-vanilla-js-modal\n */\nmodule.exports = class Moda11y {\n\t/**\n\t * Constructor.\n\t */\n\tconstructor() {\n\t\tthis.modalCloseHandler   = this.closeModal.bind( this );\n\t\tthis.modalTriggerHandler = this.initModalTriggerEventListener.bind( this );\n\t\tthis.globalEventHandler  = this.initGlobalEventListeners.bind( this );\n\t\tthis.initVariables();\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Initializes necessary variables for the class.\n\t */\n\tinitVariables() {\n\t\tthis.body            = document.querySelector( 'body' );\n\t\tthis.focusableString = \"a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]\";\n\t\tthis.previousFocus   = null;\n\t\tthis.listeners       = [\n\t\t\t'click',\n\t\t\t'keydown',\n\t\t];\n\t}\n\n\t/**\n\t * Initializes all functionality for the modals.\n\t */\n\tinit() {\n\t\tlet modalTriggers = document.querySelectorAll( '.moda11y-trigger' );\n\n\t\tif ( null !== modalTriggers ) {\n\t\t\t// Set event listener for modal triggers.\n\t\t\tmodalTriggers.forEach(\n\t\t\t\tfunction( ele ) {\n\t\t\t\t\tele.addEventListener( 'click', this.modalTriggerHandler );\n\t\t\t\t}.bind( this )\n\t\t\t);\n\n\t\t\t// Loop over each event type, and add event listener for each.\n\t\t\tthis.listeners.forEach(\n\t\t\t\tfunction ( eventType ) {\n\t\t\t\t\tdocument.addEventListener( eventType, this.globalEventHandler );\n\t\t\t\t}.bind( this )\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Re-initializes any event listeners.\n\t */\n\treInit() {\n\t\tlet modalTriggers = document.querySelectorAll( '.moda11y-trigger' );\n\t\tif ( null !== modalTriggers ) {\n\t\t\t// Remove previous event listener on modal triggers.\n\t\t\tmodalTriggers.forEach(\n\t\t\t\tfunction (ele) {\n\t\t\t\t\tele.removeEventListener( 'click', this.modalTriggerHandler );\n\t\t\t\t}.bind( this )\n\t\t\t);\n\n\t\t\t// Remove global event listeners.\n\t\t\tthis.listeners.forEach(\n\t\t\t\tfunction ( eventType ) {\n\t\t\t\t\tdocument.removeEventListener( eventType, this.globalEventHandler );\n\t\t\t\t}.bind( this )\n\t\t\t);\n\t\t}\n\n\t\t// Initialize the modals.\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Callback for when the modal trigger is clicked.\n\t *\n\t * @param e\n\t */\n\tinitModalTriggerEventListener( e ) {\n\t\tlet ele = e.target.classList.contains( 'moda11y-trigger' ) ? e.target : e.target.closest( '.moda11y-trigger' );\n\n\t\te.preventDefault();\n\n\t\t// Set previous focused element.\n\t\tthis.previousFocus = ele;\n\n\t\t// Set no-scroll class on body.\n\t\tthis.body.classList.add( 'moda11y-no-scroll' );\n\n\t\t// Append our modal to the end of the body.\n\t\tthis.body.appendChild( this.generateModal( ele ) );\n\n\t\t// Get the modal close button + set focus to it.\n\t\tlet modalClose = document.querySelector( '.moda11y__close' );\n\t\tmodalClose.focus();\n\n\t\t// Add event listener to handling closing the modal.\n\t\tmodalClose.addEventListener( 'click', this.modalCloseHandler );\n\t}\n\n\t/**\n\t * Callback for handling global events.\n\t *\n\t * Assists w/ tab trapping + closing the modal.\n\t *\n\t * @param e\n\t */\n\tinitGlobalEventListeners( e ) {\n\t\tif ( 'keydown' === e.type ) {\n\t\t\tlet modal = document.querySelector( '.moda11y' );\n\n\t\t\tif ( null !== modal ) {\n\t\t\t\tlet modalFocusable = [].slice.call( modal.querySelectorAll( this.focusableString ) );\n\n\t\t\t\t// Close any open modal is escape is pressed.\n\t\t\t\tif ( 27 === e.keyCode ) {\n\t\t\t\t\tthis.closeModal( modal );\n\t\t\t\t}\n\n\t\t\t\t// Focus first or last element in modal when tabbing (depending on direction).\n\t\t\t\tif ( 9 === e.keyCode && modalFocusable.indexOf( e.target ) >= 0 ) {\n\t\t\t\t\tif ( e.shiftKey ) {\n\t\t\t\t\t\tif ( e.target === modalFocusable[0] ) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tmodalFocusable[modalFocusable.length - 1].focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( e.target === modalFocusable[modalFocusable.length - 1] ) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tmodalFocusable[0].focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Focus back to modal if tabbing outside of the modal.\n\t\t\t\tif ( e.keyCode === 9 && modalFocusable.indexOf( e.target ) === -1 ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tmodalFocusable[0].focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Close modal if click outside of modal.\n\t\tif ( 'click' === e.type ) {\n\t\t\tlet modal = document.querySelector( '.moda11y' );\n\n\t\t\tif ( null !== modal && e.target.classList.contains( 'moda11y__overlay' ) ) {\n\t\t\t\tthis.closeModal( modal );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Closes a given modal.\n\t */\n\tcloseModal() {\n\t\tlet modal = document.querySelector( '.moda11y' );\n\t\tif ( null !== modal ) {\n\t\t\tmodal.remove();\n\t\t\tthis.body.classList.remove( 'moda11y-no-scroll' );\n\t\t\tthis.previousFocus.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Generate a modal for a given trigger.\n\t *\n\t * @param trigger\n\t * @returns {HTMLDivElement}\n\t */\n\tgenerateModal( trigger ) {\n\t\tlet modalHTML       = document.querySelector( '#' + trigger.dataset.moda11yTarget ).innerHTML,\n\t\t\tmodalWrapperDiv = document.createElement( 'div' ),\n\t\t\tmodalOverlayDiv = document.createElement( 'div' ),\n\t\t\tmodalDiv        = document.createElement( 'div' ),\n\t\t\tmodalClose      = document.createElement( 'button' ),\n\t\t\tmodalCloseSpan  = document.createElement( 'span' );\n\n\t\t// Setup modal wrapper div.\n\t\tmodalWrapperDiv.setAttribute( 'class', 'moda11y' );\n\t\tmodalWrapperDiv.setAttribute( 'role', 'dialog' );\n\t\tmodalWrapperDiv.setAttribute( 'data-moda11y-active', trigger.dataset.moda11yTarget );\n\n\t\t// Setup overlay div.\n\t\tmodalOverlayDiv.setAttribute( 'class', 'moda11y__overlay' );\n\n\t\t// Setup modal div.\n\t\tmodalDiv.setAttribute( 'class', 'moda11y__modal' );\n\n\t\t// Setup modal close button.\n\t\tmodalClose.setAttribute( 'class', 'moda11y__close' );\n\t\tmodalClose.setAttribute( 'type', 'button' );\n\t\tmodalClose.setAttribute( 'data-moda11y-trigger', trigger.dataset.moda11yTarget );\n\n\t\t// Setup modal close button span.\n\t\tmodalCloseSpan.setAttribute( 'class', 'moda11y__close-icon' );\n\t\tmodalCloseSpan.append( '&#10005;' );\n\n\t\t// Build the modal.\n\t\tmodalClose.appendChild( modalCloseSpan );\n\t\tmodalDiv.appendChild( modalClose );\n\t\tmodalDiv.insertAdjacentHTML( 'beforeend', modalHTML );\n\t\tmodalWrapperDiv.appendChild( modalOverlayDiv );\n\t\tmodalWrapperDiv.appendChild( modalDiv );\n\n\t\treturn modalWrapperDiv;\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(497);\n",""],"names":["module","exports","modalCloseHandler","closeModal","bind","modalTriggerHandler","initModalTriggerEventListener","globalEventHandler","initGlobalEventListeners","initVariables","init","body","document","querySelector","focusableString","previousFocus","listeners","modalTriggers","querySelectorAll","forEach","ele","addEventListener","eventType","removeEventListener","e","target","classList","contains","closest","preventDefault","add","appendChild","generateModal","modalClose","focus","type","modal","modalFocusable","slice","call","keyCode","indexOf","shiftKey","length","remove","trigger","modalHTML","dataset","moda11yTarget","innerHTML","modalWrapperDiv","createElement","modalOverlayDiv","modalDiv","modalCloseSpan","setAttribute","append","insertAdjacentHTML"],"sourceRoot":""}