(()=>{var e={497:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modalCloseHandler=this.closeModal.bind(this),this.modalTriggerHandler=this.initModalTriggerEventListener.bind(this),this.globalEventHandler=this.initGlobalEventListeners.bind(this),this.initVariables(),this.init()}var n,i,a;return n=e,(i=[{key:"initVariables",value:function(){this.body=document.querySelector("body"),this.focusableString="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",this.previousFocus=null,this.listeners=["click","keydown"]}},{key:"init",value:function(){var e=document.querySelectorAll(".moda11y-trigger");null!==e&&(e.forEach(function(e){e.addEventListener("click",this.modalTriggerHandler)}.bind(this)),this.listeners.forEach(function(e){document.addEventListener(e,this.globalEventHandler)}.bind(this)))}},{key:"reInit",value:function(){var e=document.querySelectorAll(".moda11y-trigger");null!==e&&(e.forEach(function(e){e.removeEventListener("click",this.modalTriggerHandler)}.bind(this)),this.listeners.forEach(function(e){document.removeEventListener(e,this.globalEventHandler)}.bind(this))),this.init()}},{key:"initModalTriggerEventListener",value:function(e){var t=e.target.classList.contains("moda11y-trigger")?e.target:e.target.closest(".moda11y-trigger");e.preventDefault(),this.previousFocus=t,this.body.classList.add("moda11y-no-scroll"),this.body.appendChild(this.generateModal(t));var n=document.querySelector(".moda11y__close");n.focus(),n.addEventListener("click",this.modalCloseHandler)}},{key:"initGlobalEventListeners",value:function(e){if("keydown"===e.type){var t=document.querySelector(".moda11y");if(null!==t){var n=[].slice.call(t.querySelectorAll(this.focusableString));27===e.keyCode&&this.closeModal(t),9===e.keyCode&&n.indexOf(e.target)>=0&&(e.shiftKey?e.target===n[0]&&(e.preventDefault(),n[n.length-1].focus()):e.target===n[n.length-1]&&(e.preventDefault(),n[0].focus())),9===e.keyCode&&-1===n.indexOf(e.target)&&(e.preventDefault(),n[0].focus())}}if("click"===e.type){var i=document.querySelector(".moda11y");null!==i&&e.target.classList.contains("moda11y__overlay")&&this.closeModal(i)}}},{key:"closeModal",value:function(){var e=document.querySelector(".moda11y");null!==e&&(e.remove(),this.body.classList.remove("moda11y-no-scroll"),this.previousFocus.focus())}},{key:"generateModal",value:function(e){var t=document.querySelector("#"+e.dataset.moda11yTarget).innerHTML,n=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),o=document.createElement("button"),r=document.createElement("span");return n.setAttribute("class","moda11y"),n.setAttribute("role","dialog"),n.setAttribute("data-moda11y-active",e.dataset.moda11yTarget),i.setAttribute("class","moda11y__overlay"),a.setAttribute("class","moda11y__modal"),o.setAttribute("class","moda11y__close"),o.setAttribute("type","button"),o.setAttribute("data-moda11y-trigger",e.dataset.moda11yTarget),r.setAttribute("class","moda11y__close-icon"),r.append("&#10005;"),o.appendChild(r),a.appendChild(o),a.insertAdjacentHTML("beforeend",t),n.appendChild(i),n.appendChild(a),n}}])&&t(n.prototype,i),a&&t(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}()}},t={};(function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports})(497)})();